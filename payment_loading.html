<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />

  <title>결제 진행중</title>
  <link rel="stylesheet" href="style.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>
<body>
  <div class="screen center" style="padding-top: 120px;">
    <h2 style="margin:0; font-size:18px;">결제 진행중...</h2>
    <p style="margin-top:8px; color:#6b7280; font-size:13px;">잠시만 기다려 주세요</p>

    <p id="debug" style="margin-top:16px; font-size:12px; color:#9ca3af;"></p>
  </div>

  <script>
    // ✅ 로딩 페이지에 들어오면 1.2초 뒤 성공 페이지로 이동
    // (GitHub Pages에서 가장 안정적인 방식)
    const item = localStorage.getItem("pay_item");
    const amount = localStorage.getItem("pay_amount");
    const method = localStorage.getItem("pay_method");

    const debugEl = document.getElementById("debug");
    debugEl.textContent = `이동 준비중... (${item || "no item"} / ${amount || "0"} / ${method || "no method"})`;

    // 파일이 진짜 있는지 확인하려면 아래 URL을 콘솔로 찍어봐도 됨
    console.log("Redirecting to:", "payment_success.html");

    setTimeout(() => {
      // ✅ 절대경로로도 한 번 더 안전하게 처리 (레포/폴더 구조 때문)
      // dreamyoapp 폴더 안에 있다면 이게 더 안전함:
      // location.href = "./payment_success.html";

      location.href = "payment_success.html";
    }, 1200);
  </script>
</body>
</html>

